# Kubernetes 1.32 kubelet environment file
# Adapted for containerd runtime

KUBELET_KUBECONFIG_ARGS="--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf"

# Container runtime endpoint for containerd
KUBELET_RUNTIME_ARGS="--container-runtime-endpoint=unix:///var/run/containerd/containerd.sock"

# Pod configuration
KUBELET_SYSTEM_PODS_ARGS="--pod-manifest-path=/etc/kubernetes/manifests"

# Network configuration (CNI)
KUBELET_NETWORK_ARGS="--network-plugin=cni --cni-conf-dir=/etc/cni/net.d --cni-bin-dir=/opt/cni/bin"

# DNS configuration
KUBELET_DNS_ARGS="--cluster-dns=10.96.0.10 --cluster-domain=cluster.local"

# Authorization and authentication
KUBELET_AUTHZ_ARGS="--authorization-mode=Webhook --client-ca-file=/etc/kubernetes/pki/ca.crt"

# Cgroup driver (systemd pour containerd)
KUBELET_CGROUP_ARGS="--cgroup-driver=systemd"

# Extra arguments
KUBELET_EXTRA_ARGS="--fail-swap-on=false --resolv-conf=/etc/resolv.conf.override"
